---
layout: post
title:  "Nim"
subtitle: "programming language"
date:   2018-10-17 18:00:05 -0400
background: '/img/posts/nim/nim.jpg'
categories: Programming
---
## 介绍

## 包管理器
#### nimble
- ```nimble init [configfile]```
- ```nimble build``` 编译
- ```nimble install``` 安装该库
- ```nimble test```单元测试
- ```nimble search [lib]``` 搜索库

## 语法
#### 关键字
- ```if```, ```elif```, ```else```, ```while```
- ```when```
- ```block``` 开启一个变量域
- ```break``` 跳出作用域，loop，block等等
- 定义变量
    - ```var```
    - ```let``` 
    - ```const``` 常亮
    - ```result``` 一个动态变量，每段程序都会返回
    - ```cast``` 一种不安全的定义方式，用作type转换
- ``` case of ``` case语句
- ```items```一个迭代， ```pairs``` 两个迭代

#### 程序结构
- ```discard``` 调用一个函数，不用管它的返回值
- ```*``` 外界modules可以调用
- ```when isMainMoulde``` 只有是主函数时才会编译
- ```proc``` 定义程序
#### 

## 数据结构
#### 常用
- bool
- char
- strings  （mutable）
- int （8 16 32 64 uint uint8 uint16 uint32 uint64）
- float （32 64）
- iterator 迭代器
#### 更多
- enum 枚举
- range    rangep[0..5] 
- set
- array
- seq
- varargs
- slices
- tuples
- reference and pointer types
- procedural type 看做指向procedure的pointer

## 宏
能否看做是针对某种情况的代码指定生成
#### AST(abstract syntax tree)
- 由```NimNode```组成的语法树，每个node有个```kind```来描述node包含哪些内容
- 
#### 语法
- ```parseStmt``` 将=语句转化为nimnode
- ```dumpTree```
- ```StmtList```

## 编译
- ```{. xxx .}``` 编译器的编译指示

## 常用模块
#### 文件IO
- ```echo``` 输出变量
- ```paramCount()``` param 读取
- ```readFile``` 文件读取
- ```readAll``` 内容读取